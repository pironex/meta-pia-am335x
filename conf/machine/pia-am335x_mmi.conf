#@TYPE: Machine
#@NAME: piA-AM335x machine
#@DESCRIPTION: Machine configuration for the pironex piA boards KM MMI

require pia335x.inc

# Only has DVI connector for external screen
#GUI_MACHINE_CLASS = "bigscreen"
GUI_MACHINE_CLASS = "smallscreen"

# and sdio
# alsa removed for now
#MACHINE_FEATURES = "kernel26 alsa screen apm usbgadget usbhost vfat sgx touchscreen"
MACHINE_FEATURES += "alsa screen touchscreen sgx"
DEFAULTTUNE_pia-am335x_mmi = "${DEFAULTTUNE_genericarmv7a}"

PIA_QT_PROVIDER = "${@base_contains('MACHINE_FEATURES','sgx','qt4-embedded-gles','qt4-embedded',d)}"
#PREFERRED_PROVIDER_qt4-embedded = "${PIA_QT_PROVIDER}"
PREFERRED_PROVIDER_qt4-embedded = "qt4-embedded-gles"

PREFERRED_VERSION_qt4-embedded = "4.8.4"
PREFERRED_VERSION_qt4-native = "4.8.4"
PREFERRED_VERSION_nativesdk-qt4-tools = "4.8.4"

PREFERRED_PROVIDER_virtual/kernel = "linux-am335x-psp"

UBOOT_MACHINE = "am335x_pia_mmi_config"

MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += " kernel-module-cpsw kernel-module-8021q "
